<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SS16 2022. 6. 9. - 오전 10:34:47</title>
<link rel="shortcut icon" type="image/x-icon" href="../images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>

<h3>ex04_04.html  js 클로저 사용 예제</h3>

<!-- button*20>{0} -->
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>

<script>
    // js 클로저 코딩. ( 시험 문제 1 답)
    var btns = document.getElementsByTagName("button");
    for (var i = 0; i < btns.length; i++) {
		btns[i].onclick = ( function (){    // 자체 호출 함수
			                             let counter = 0;
			                             return function(){   // 중첩함수
			                                        event.srcElement.innerHTML = ++counter;
		                                              }; 
		                           })();
	};
     
</script>

<script>
/* 
   전역변수 20개 선언
   var counter1 = 0;
   var counter2 = 0;
   var counter3 = 0;
   var counter4 = 0;
   var counter5 = 0;
   :
   var counter20 = 0;
 */   
 
   /*
    // counter 배열 선언
    var counters =  [ 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 ];
    $("button").click(function(event) {
    	// jquery  -  index()
    	var index = $(this).index();
    	counters[index]++;
    	$(this).html(counters[index]);
    });
  */
</script>

<!-- 
<script>
    // jquery 수정
    $("button").click(function(event) {
    	 var n =  parseInt(  $(this).html() );
    	 $(this).html(  ++n );
    })
</script>
 -->
<!-- 
<script>
     var btns = document.getElementsByTagName("button");
     for (var i = 0; i < btns.length; i++) {
		btns[i].onclick = function (){
			// 클릭된 버튼 
			// this
			var n = parseInt( event.srcElement.innerHTML );			
			event.srcElement.innerHTML = ++n;
		}
	}
</script>
 -->
</body>
</html>











